---
title: 코시-오일러 방정식과 영구파생상품(Cauchy-Euler Equation and Perpetual Derivatives)
date: 2025-09-16 12:00:00 +09:00
categories:
  - Quant & Markets
  - Derivatives & Volatility
tags:
  - 코시-오일러 방정식
  - 영구파생상품
  - Black-Scholes
  - 미분방정식
  - Hull
  - 금융공학
  - derivatives
  - perpetual derivatives
  - cauchy-euler equation
  - mathematical finance
math: true
---

Hull 책 공부하다 정리해두면 좋을 것 같은 내용이 있어 블로그에 정리합니다.

# 1. 코시-오일러 방정식

## 1.1. 정의

코시-오일러 방정식은 선형 동차 상미분 방정식에 해당하며, 미지의 함수 $y(x)$에 대해 아래와 같이 세울 수 있는 미분방정식입니다.

$$
a_n x^n y^{(n)} + a_{n-1} x^{n-1} y^{(n-1)} + \cdots + a_1x y'(x) + a_0y(x) = 0
$$

이때 $a_0, a_1, \dots, a_{n-1}, a_n$ 은 주어진 계수입니다.

## 1.2. 2차 코시-오일러 방정식
정의에 따라, 2차 코시-오일러 방정식은 아래와 같습니다.

$$
a_2x^2y'' + a_1xy' + a_0y = 0
$$

이 방정식은 $y=x^m$ Ansatz(가설 풀이)를 활용하여 풀이할 수 있습니다.

$$
\mathrm{Ansatz\; for\; Cauchy-Euler\; Equation: \;}y = x^m
$$

이 Ansatz는 다음을 근거로 합리성을 이야기 해볼 수 있습니다.

1. 직관적 이유
   이 방정식은 변수와 변수의 미분항이 한 쌍으로 움직입니다. 고계항으로 가더라도 변하지 않습니다. $x^m$ 이라는 함수는 미분할 경우 원래 함수에 $m$만 곱해지는 형태로 주어지게 됩니다. 즉 $x^m$ 함수의 대칭성으로 인하여 이 Ansatz를 이와같이 직관적으로 이해할 수 있습니다.
   
2. 변수 치환을 통해 상수계수 n계 제차 미분방정식으로 전환
   $x$ 를 $\exp(t)$ 로 치환하면, $t = \ln x$ 입니다. 이때 $dt = {1 \over x} dx$ 이므로 $x \times dy/dx$ ⟶ $dy / dt$
   $x^2 \times d^2y / dx^2$ ⟶ $d^2y / dt^2 - dy/dt$
   
   이 결과를 원래의 코시-오일러 방정식에 대입하면, 이제 t에 대한 방정식으로 바뀌어 있습니다.
   $$
   a_2 \left(d^2y/dt^2 - dy/dt\right) + a_1 (dy/dt) + a_0y = 0
   $$
$$
   a_2 \left(d^2y/dt^2\right) + (a_1-a_2) (dy/dt) + a_0y = 0
$$
   
   결국 변수를 변환함으로 $t$에 대한 $y$의 상수 계수 2차 미분방정식으로 변환됩니다.
   이 방정식의 해는 $y = \exp{(mt)}$ 형태로 주어지며, $\exp(t) = x$ 임을 활용한다면 코시-오일러 방정식의 가장 자연스러운 해의 형태는 $y = x^m$으로 주어진다는 점을 생각해볼 수 있으며 이러한 지점에서 Ansatz의 아이디어가 기인합니다.
  
## 1.3. Ansatz를 적용한 2차 코시-오일러 미분방정식의 일반해

위에서 상정한 Ansatz를 2차 코시-오일러 방정식에 대입하면,

$$
a_2 x^2 m(m-1) x^{m-2} + a_1 x m x^{m-1} + a_0 x^m = 0
$$

이때, $x^m$ 항에 초점을 맞추어 좌변을 정리하면 아래와 같습니다.

$$
x^m \left(a_2 m(m-1) + a_1 m + a_0\right) = 0
$$

$x ≠ 0$ 일때 양변을 $x^m$으로 나눠주면 $m$에 대한 이차방정식이 되며, $m$에 대한 이차방정식이 서로 다른 두 실근을 가질 경우 2차 코시-오일러 미분방정식의 해는 다음과 같이 주어집니다.

$$
y = c_1x^{m_1} + c_2x^{m_2}
$$

# 2. 적용: 영구파생상품

살펴본 코시 - 오일러 방정식을 금융공학에 적용해보고자 합니다.

Black-Scholes Equation의 경계조건을 평가하고자 하는 파생상품으로 설정(콜/풋 옵션, 선물, 선도...) 하고 그 파생상품이 시간과 기초자산의 함수로 주어질 경우 ( $=f(S,t)$ ) 방정식을 풀어 원하는 상품의 가격을 구할 수 있습니다.

$$
\mathrm{Black-Scholes \; Equation : \;} {\partial f \over \partial t} + {1 \over 2} \sigma^2 S^2 {\partial^2 f \over \partial S^2} + rS{\partial f \over \partial S} - rf = 0
$$

이때, 평가하고자 하는 파생상품의 가치가 시간에 의존하지 않는다면( $=f(S)$ ), 즉 파생상품의 가치가 아래와 같이 주어진다면 BSE를 오일러-코시 방정식으로 볼 수 있습니다.

$$
\mathrm{Black-Scholes \; Equation \; for \; time \; independant \; Derivatives \; :}
$$
$$
{1 \over 2} \sigma^2 S^2 {d^2f \over dS^2} + rS{df \over dS} - rf = 0
$$

위와같은 특성을 가지는 상품을 상정해볼 수 있습니다. 어떤 파생상품이 존재하여, 만기가 없고, 기초자산(주식)이 $H$에 도달하면 $Q$만큼의 현금을 지급한다고 합니다.

이때 $a_2 = {1 \over 2} \sigma^2, a_1 = r, a_0 = -r$ 입니다.  

Ansatz를 적용하여 $f(S) = S^\alpha$로 가정하고 방정식을 풀어보겠습니다.

Ansatz를 적용하게 되면 간단한 이차방정식을 풀이하는 것으로 풀어야 하는 코시-오일러 방정식의 해를 구할 수 있음을 이상에서 확인하였고, 경계조건과 계수 모두 주어진 상황이기 때문에 프레임워크에 맞추어 방정식을 풀어보겠습니다.

풀어야 할 $\alpha$ 에 대한 이차방정식은 다음과 같습니다.

$$
{1 \over 2} \sigma^2 \alpha(\alpha-1) + r\alpha - r = 0
$$

이 방정식의 해를 구하면 서로 다른 두 실근으로써 $\alpha = 1 \mathrm{\;or\;} \alpha = -2r / \sigma^2$  값 두 개를 찾을 수 있습니다.

따라서 이 방정식의 해는

$$
f(S) = AS^1 + BS^{-2r/\sigma^2}
$$

로 주어집니다.

## 2.1. Case 1) $S < H$

$Q$를 지급받는 경계가 현재 기초자산의 가격보다 위에 있는 상황입니다. 이 경우, 기초자산의 가격 $S=0$ 일 경우 경우 해당 파생상품은 $H$ 에 도달할 가능성이 없는 것으로 간주하여 $f=0$ 이고, 기초자산의 가격이 에 도달할경우 파생상품은 $Q$를 지급하기 때문에 $S = H$일 경우 $f=Q$ 가 경계조건으로 주어집니다.

경계조건 $f(S=0) = 0$을 방정식의 해에 대입하게 되면, $f(0) = A \times 0^1 + B \times 0^{-2r/\sigma^2}$ 이고 지수법칙에 의해 $0^{-2r/\sigma^2}$ 항이 무한대로 발산하기 때문에 $B$의 값은 $0$이 됩니다.

또다른 경계조건 $f(S = H) = Q$ 를 방정식의 해에 대입하게 되면, $Q = A \times H$ 로 주어지고, $A = Q / H$ 로 주어져

$$
f(S) = {{Q \times S} \over H}
$$

## 2.2. Case 2) $S > H$

$Q$를 지급받는 경계가 현재 기초자산의 가격보다 아래에 있는 상황입니다. 이 경우, 기초자산의 가격이 무한히 증가할 경우 해당 파생상품은 에 도달할 가능성이 없는 것으로 간주하여 $f=0$ 이고, 기초자산의 가격이 $H$에 도달할경우 파생상품은 $Q$를 지급하기 때문에 $S = H$일 경우 $f=Q$ 가 경계조건으로 주어집니다.

경계조건으로 주어진 기초자산의 가격이 무한히 증가하는 상황을 해에 대입하게 되면, $AS$ 항은 발산하기 때문에 경계조건에 의해 두 번째 Case의 경우 $A$의 값이 $0$이 됩니다.

또다른 경계조건 $f(S = H) = Q$ 를 방정식의 해에 대입하게 되면, $Q = B \times H^{-2r / \sigma^2}$ 이고, 최종적으로 Case 2)의 해는 아래와 같이 구할 수 있습니다.

$$
f(S) = {Q \over H^{-2r / \sigma^2}} \times S^{-2r / \sigma^2} = Q \left( {S \over H} \right) ^ {-2r / \sigma^2}
$$

이러한 파생상품의 형대는 다음과 같이 해석할 수 있습니다.

1) 이자율 효과
   - $r$이 클수록 지수의 절댓값이 커짐
   - 높은 이자율 → 미래 현금흐름의 현재가치 할인효과 증대
   - 배리어에 도달하기까지 시간이 오래 걸릴수록 현재가치가 급격히 감소

2) 변동성 효과
   - $\sigma^2$이 클수록 지수의 절댓값이 작아짐
   - 높은 변동성 → 배리어 $H$에 도달할 확률 증가
   - 변동성이 높으면 파생상품의 가치가 덜 민감하게 반응

3) 상대적 거리의 중요성
   - $S/H$ 비율이 파생상품 가치를 결정
   - 현재 주가가 배리어에서 멀수록 (S >> H) 파생상품 가치 급감
   - 이는 "도달 확률"과 "할인 효과"의 복합적 작용

## 2.3. 해의 유일성

만약 이상의  경계조건을 적용한 방정식의 해가 유일하지 않다면, 동일한 상품에 대해 여러 가격이 존재할 수 있음을 의미하게 되며 이는 무위험차익거래 기회로 이어집니다. 따라서 기본 가정인 No Arbitrage 가정을 충족해야 한다는 점에서 유일하게 경계조건 하에서 주어진다.

# 3. 결론

시간에 독립적인 파생상품을 코시-오일러 방정식을 통하여 가치를 평가할 수 있음을 살펴보았습니다.

이 단순한 영구 파생상품 예시는 Hull의 26장에서 다루는 영구 아메리칸 옵션(underlying이 continuous dividend yield $q$를 지닐 때)의 해석으로 확장될 수 있다고 합니다. 결국 코시–오일러 방정식은 만기가 없는 파생상품의 경계조건을 바탕에 두고 가치를 평가하는 문제에서 강력한 도구임을 확인할 수 있습니다.

이어지는 포스팅에서 영구 아메리칸 옵션의 해석으로 확장해볼 수 있도록 하겠습니다.

감사합니다.

---

# Reference

J. Hull (2021) Option, Futures, and Other Derivatives, pearson, 

[Wikipedia, Cauchy Euler Equation](https://ko.wikipedia.org/wiki/%EC%BD%94%EC%8B%9C-%EC%98%A4%EC%9D%BC%EB%9F%AC_%EB%B0%A9%EC%A0%95%EC%8B%9D)

[Wikipedia, Ansatz](https://ko.wikipedia.org/wiki/%EA%B0%80%EC%84%A4_%ED%92%80%EC%9D%B4)